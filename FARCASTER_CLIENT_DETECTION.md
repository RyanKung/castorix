# Farcaster å®¢æˆ·ç«¯è¯†åˆ«æœºåˆ¶

## ğŸ” æ¦‚è¿°

åœ¨ Farcaster ä¸Šçœ‹åˆ°çš„"æ¶ˆæ¯æ¥è‡ªæŸä¸ªå®¢æˆ·ç«¯"çš„æ ‡è¯†ï¼Œå®é™…ä¸Šæ˜¯é€šè¿‡å¤šç§æ–¹å¼å®ç°çš„ï¼Œè€Œ**ä¸æ˜¯åè®®å±‚é¢çš„å¼ºåˆ¶è¦æ±‚**ã€‚

## ğŸ“‹ å®ç°æ–¹å¼

### 1. **åè®®å±‚é¢**
Farcaster åè®®æœ¬èº«**ä¸åŒ…å«å¼ºåˆ¶çš„å®¢æˆ·ç«¯å­—æ®µ**ï¼Œä½†æä¾›äº†å‡ ç§å¯é€‰æ–¹å¼ï¼š

```protobuf
message CastAddBody {
  repeated Embed embeds = 6;  // å¯ä»¥åŒ…å«å®¢æˆ·ç«¯æ ‡è¯†
  CastType type = 8;          // Cast ç±»å‹
}
```

### 2. **å®é™…è¯†åˆ«æ–¹æ³•**

#### æ–¹æ³• A: é€šè¿‡ Signer æ˜ å°„
æ¯ä¸ªå®¢æˆ·ç«¯åº”ç”¨é€šå¸¸ä¼šæ³¨å†Œè‡ªå·±çš„ signerï¼š
- Warpcast æœ‰è‡ªå·±çš„ signer pool
- Supercast æœ‰è‡ªå·±çš„ signer pool
- ç¬¬ä¸‰æ–¹åº”ç”¨æœ‰ç‹¬ç«‹çš„ signer

**Hub æˆ–å‰ç«¯åº”ç”¨ç»´æŠ¤ signer â†’ å®¢æˆ·ç«¯çš„æ˜ å°„è¡¨**

#### æ–¹æ³• B: é€šè¿‡ Embeds (è‡ªå®šä¹‰)
æŸäº›å®¢æˆ·ç«¯å¯èƒ½åœ¨ embeds ä¸­æ·»åŠ æ ‡è¯†ï¼š
```json
{
  "embeds": [
    {
      "url": "https://warpcast.com/~/compose"
    }
  ]
}
```

#### æ–¹æ³• C: é€šè¿‡å‰ç«¯æ¨æ–­
å‰ç«¯åº”ç”¨ï¼ˆå¦‚ Warpcastï¼‰å¯ä»¥ï¼š
1. æŸ¥è¯¢ cast çš„ signer
2. æŸ¥æ‰¾è¯¥ signer æ³¨å†Œæ—¶çš„å…ƒæ•°æ®
3. ä»å…ƒæ•°æ®ä¸­æå–å®¢æˆ·ç«¯ä¿¡æ¯

### 3. **Neynar Hub API çš„æƒ…å†µ**

å½“å‰ Neynar Hub API è¿”å›çš„æ˜¯**åŸå§‹ Farcaster æ¶ˆæ¯æ ¼å¼**ï¼š
```json
{
  "messages": [
    {
      "data": { ... },
      "hash": "0x...",
      "signer": "0x..."  // Ed25519 å…¬é’¥
    }
  ]
}
```

**æ²¡æœ‰ç›´æ¥çš„ `client` æˆ– `via` å­—æ®µ**

## ğŸ¯ å¦‚ä½•åœ¨ Warpcast çœ‹åˆ°å®¢æˆ·ç«¯ä¿¡æ¯ï¼Ÿ

Warpcast ä½¿ç”¨ä»¥ä¸‹ç­–ç•¥ï¼š

1. **è‡ªå·±çš„ casts** - ç›´æ¥çŸ¥é“æ˜¯ä» Warpcast å‘çš„
2. **å…¶ä»–å®¢æˆ·ç«¯çš„ casts** - é€šè¿‡ä»¥ä¸‹æ–¹å¼è¯†åˆ«ï¼š
   - ç»´æŠ¤å·²çŸ¥å®¢æˆ·ç«¯çš„ signer åˆ—è¡¨
   - æŸ¥è¯¢ signer çš„æ³¨å†Œå…ƒæ•°æ®
   - ä»ç‰¹å®šçš„ embed æ¨¡å¼è¯†åˆ«
   - ä» Frame actions è¯†åˆ«

## ğŸ“Š æˆ‘ä»¬çš„å®ç°

### å½“å‰åŠŸèƒ½
```bash
castorix hub casts <FID> --limit N
```

æ˜¾ç¤ºä¿¡æ¯ï¼š
- â° æ—¶é—´æˆ³
- ğŸ”— Hash
- ğŸ”‘ Signer (Ed25519 å…¬é’¥)
- ğŸ“ æ–‡æœ¬å†…å®¹
- ğŸ“ Embeds
- ğŸ‘¥ Mentions

### æœªæ¥å¯èƒ½çš„å¢å¼º

1. **Signer æ•°æ®åº“** - ç»´æŠ¤å¸¸è§å®¢æˆ·ç«¯çš„ signer æ˜ å°„
2. **å¯å‘å¼æ£€æµ‹** - é€šè¿‡ embed æ¨¡å¼æ¨æ–­å®¢æˆ·ç«¯
3. **API å¢å¼º** - å¦‚æœ Neynar æ·»åŠ å®¢æˆ·ç«¯å­—æ®µï¼Œè‡ªåŠ¨æ˜¾ç¤º

## ğŸ”§ æŠ€æœ¯ç»†èŠ‚

### Cast æ¶ˆæ¯ç»“æ„ (Protocol Buffers)

```protobuf
message Message {
  MessageData data = 1;
  bytes hash = 2;
  bytes signer = 6;  // Ed25519 å…¬é’¥ï¼Œæ˜¯å®¢æˆ·ç«¯è¯†åˆ«çš„å…³é”®
}

message MessageData {
  uint64 fid = 2;
  uint32 timestamp = 3;
  CastAddBody cast_add_body = 5;
}

message CastAddBody {
  string text = 4;
  repeated Embed embeds = 6;
  repeated uint64 mentions = 2;
}
```

### ä¸ºä»€ä¹ˆæ²¡æœ‰å¼ºåˆ¶çš„å®¢æˆ·ç«¯å­—æ®µï¼Ÿ

1. **å»ä¸­å¿ƒåŒ–åŸåˆ™** - Farcaster æ˜¯å»ä¸­å¿ƒåŒ–åè®®
2. **çµæ´»æ€§** - ä¸é™åˆ¶å®¢æˆ·ç«¯å¦‚ä½•æ ‡è¯†è‡ªå·±
3. **éšç§** - ç”¨æˆ·å¯ä»¥é€‰æ‹©ä¸æš´éœ²ä½¿ç”¨çš„å®¢æˆ·ç«¯
4. **ç®€æ´æ€§** - ä¿æŒæ ¸å¿ƒåè®®ç®€å•

## ğŸ’¡ æ€»ç»“

Farcaster çš„å®¢æˆ·ç«¯è¯†åˆ«æ˜¯ï¼š
- âœ… åº”ç”¨å±‚åŠŸèƒ½ï¼Œä¸æ˜¯åè®®è¦æ±‚
- âœ… ä¸»è¦é€šè¿‡ **Signer æ˜ å°„** å®ç°
- âœ… ä¸åŒçš„å‰ç«¯åº”ç”¨æœ‰å„è‡ªçš„å®ç°æ–¹å¼
- âŒ ä¸æ˜¯ Hub API è¿”å›çš„ç›´æ¥å­—æ®µ

å¦‚æœä½ æƒ³å®ç°ç±»ä¼¼åŠŸèƒ½ï¼Œéœ€è¦ï¼š
1. ç»´æŠ¤ä¸€ä¸ª signer â†’ å®¢æˆ·ç«¯çš„æ˜ å°„æ•°æ®åº“
2. æˆ–è€…ä½¿ç”¨æ”¯æŒå®¢æˆ·ç«¯æ ‡è¯†çš„æ›´é«˜çº§ APIï¼ˆå¦‚ Neynar v2 APIï¼‰
